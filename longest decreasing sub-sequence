#include<bits/stdc++.h>
using namespace std;

int main()
{
    int n,inp;
    cin>>n;

    set < int > lis ;
    set < int > :: iterator  it ;
    vector<int>input;

    for(int i=0; i<n; i++){
        cin>>inp;
        input.push_back(inp);
    }

    reverse(input.begin(),input.end());

    for( int i = 0 ; i < n ; i++ )
    {
        lis.insert( input[i]);
        it = lis.find( input[i]);
        it++;
        if( it != lis.end()) lis.erase(it);
    }
    cout << lis.size() << endl ;

    for(auto& x: lis)cout<<x<<" ";


    return 0;
}
